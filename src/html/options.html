<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>設定</title>

    <link rel="stylesheet" type="text/css" href="../styles/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../css/option.css">

    <style>
        .license {
            font-family: sans-serif;
        }

        pre {
            background-color: #eeeeee;
            padding: 1em;
            white-space: pre-wrap;
        }
    </style>
</head>

<body>

    <div class="container">
        <!-- Forms ================================================== -->
        <div class="bs-docs-section">
            <div class="row">
                <div class="col-lg-12">
                    <div class="page-header">
                        <h1 id="forms">Annict</h1>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-7">
                    <h2 id="forms">Annict認証 (必須)</h2>
                    <div class="well bs-component">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <label for="input_token" class="col-lg-2 control-label">個人用アクセストークン</label>
                                <div class="col-lg-10">
                                    <input type="text" class="form-control" id="input_token" placeholder="">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-10 col-lg-offset-2">
                                    <button id="btn_token" type="button" class="saveButton btn btn-primary">保存</button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <h2 id="forms">オプション</h2>
                    <div class="well bs-component">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input check_settings" id="check_valid_danime" checked>
                                    <label class="custom-control-label">dアニメストアで有効にする</label>
                                </div>
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input check_settings" id="check_valid_amazon" checked>
                                    <label class="custom-control-label">Amazon Prime Videoで有効にする</label>
                                </div>
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input check_settings" id="check_valid_netflix" checked>
                                    <label class="custom-control-label">Netflixで有効にする</label>
                                </div>
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input check_settings" id="check_valid_abema" checked>
                                    <label class="custom-control-label">AbemaTVで有効にする</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-10">
                                    <label class="custom-control-label">送信タイミング: 再生開始からの経過時間(秒)</label>
                                    <input type="number" class="form-control" id="input_sendingTime" placeholder="300">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input check_settings" id="check_annictSend" checked>
                                    <label class="custom-control-label">Annictに送信する</label>
                                </div>
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input check_settings" id="check_withTwitter">
                                    <label class="custom-control-label">Annictに送信する際、Twitterにも投稿する</label>
                                </div>
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input check_settings" id="check_withFacebook">
                                    <label class="custom-control-label">Annictに送信する際、Facebookにも投稿する</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-10 col-lg-offset-2">
                                    <button id="btn_sendingTime" type="button" class="saveButton btn btn-primary">保存</button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <h2 id="forms">Webhook</h2>
                    <button type="button" class="btn_webhookBlockAdd btn btn-primary">Webhook設定を追加</button>
                    <div class="well bs-component" id="webhook_0">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <label class="col-lg-2 control-label">Webhook Post URL</label>
                                <div class="col-lg-10">
                                    <input type="text" class="form-control input_postUrl" placeholder="">
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-webhook-input check_webhookNoMatched" checked>
                                    <label class="custom-control-label">作品/エピソードが見つからなかった時</label>
                                </div>
                                <div class="custom-control custom-webhook-checkbox">
                                    <input type="checkbox" class="custom-control-webhook-input check_webhookNoWorkId">
                                    <label class="custom-control-label">Annict DBにdアニメストアのWork IDが登録されていなかった時</label>
                                </div>
                                <div class="custom-control custom-webhook-checkbox">
                                    <input type="checkbox" class="custom-control-webhook-input check_webhookSuccess">
                                    <label class="custom-control-label">エラーが起きなかった時 (上記以外の場合)</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-10 col-lg-offset-2">
                                    <button type="button" class="btn_postUrl btn_webhookSave btn btn-primary">保存</button>
                                </div>
                            </div>
                        </form>
                        <hr>
                        <h3>Webhookの送信内容</h3>
                        デフォルトでは、以下の変数からなるjsonを<code>JSON.stringify()</code>で変換した文字列が送信されます。
                        <table class="part" data-startline="161" data-endline="167">
                            <caption>使用可能な変数</caption>
                            <thead>
                            <tr>
                            <th><span data-position="4178" data-size="3">変数</span></th>
                            <th><span data-position="4194" data-size="2">内容</span></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                            <td><span data-position="4262" data-size="9">workTitle</span></td>
                            <td><span data-position="4278" data-size="6">作品タイトル</span></td>
                            </tr>
                            <tr>
                            <td><span data-position="4299" data-size="13">episodeNumber</span></td>
                            <td><span data-position="4315" data-size="7">エピソード話数</span></td>
                            </tr>
                            <tr>
                            <td><span data-position="4335" data-size="12">episodeTitle</span></td>
                            <td><span data-position="4351" data-size="9">エピソードタイトル</span></td>
                            </tr>
                            <tr>
                            <td><span data-position="4369" data-size="12">danimeWorkId</span></td>
                            <td><span data-position="4385" data-size="15">dアニメストアのWork Id</span></td>
                            </tr>
                            <tr>
                            <td><span data-position="4405" data-size="5">error</span></td>
                            <td><span data-position="4421" data-size="5">エラー内容</span></td>
                            </tr>
                            </tbody>
                        </table>
                        <form class="form-horizontal">
                            <div class="form-group">
                                <div class="custom-control custom-webhook-checkbox">
                                    <input type="checkbox" class="custom-control-webhook-input check_webhookContentChanged">
                                    <label class="custom-control-label">送信する内容(body)をデフォルトから変更する</label>
                                </div>
                            </div>
                            <div style="margin: 10px;">
                                valueの中で変数を使用できます。(例: <code>I've seen {workTitle}-{episodeNumber}.</code>)
                                <br>また<code>JSON.stringify()</code>による変換は自動で行われます。
                            </div>
                            <div class="form-group">
                                <div class="col-lg-10 webhookContent">
                                    <div class="div_webhook_0">
                                        <input type="text" class="webhookKey form-control" placeholder="key" style="width: 15%; display: inline;">
                                        <input type="text" class="webhookValue form-control" placeholder="value" style="width: 60%; display: inline;">
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-lg-10 col-lg-offset-2">
                                    <button type="button" class="btn_webhookContentAdd btn btn-primary">追加</button>
                                    <button type="button" class="btn_webhookSave btn btn-primary">保存</button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div id="extraWebhook">
                    </div>
                </div>
            </div>
            <h3> 1. COPY Annict Personal Token </h3>
            <img src="../img/d-annict-ss1.png"/>
            <h3> 2. PASTE Token to this page</h3>
            <img src="../img/d-annict-ss2.png"/>
        </div>
    </div>

    <script src="../js/jquery-3.5.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../scripts/options.js"></script>


</body>

</html>